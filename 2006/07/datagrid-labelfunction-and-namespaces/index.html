<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>DataGrid, labelFunction and namespaces &laquo;  benclinkinbeard.com</title>    
    <link rel="stylesheet" href="../../../wordpress/wp-content/themes/min/style.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../../../wordpress/wp-content/themes/min/superfish.css" type="text/css" media="screen" />
    <!--[if IE 6]><link rel="stylesheet" href="http://archive.benclinkinbeard.com/wordpress/wp-content/themes/min/ie6.css" type="text/css" media="screen" /><![endif]-->
	<!-- Additional CSS add-ons from custom admin page --><style type='text/css' media='screen'>a, .post h2 a:hover { color:#639c01; }</style>	

	<link rel="pingback" href="../../../wordpress/xmlrpc.php" />

<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/return_undefined" />
<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://feeds.feedburner.com/return_undefined" />
	
    <link rel="alternate" type="application/rss+xml" title="benclinkinbeard.com &raquo; DataGrid, labelFunction and namespaces Comments Feed" href="feed/index.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../wordpress/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wordpress/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='benclinkinbeard.com' href='../../../index.html' />
<link rel='start' title='Dealing with (default) namespaces in Flex 2/AS3' href='../dealing-with-default-namespaces-in-flex-2as3/index.html' />
<link rel='prev' title='Flash Extension: Convert Bitmaps to Symbols' href='../flash-extension-convert-bitmaps-to-symbols/index.html' />
<link rel='next' title='QuickDateFormatter &#8211; efficient date formatting in AS3' href='../quickdateformatter-efficient-date-formatting-in-as3/index.html' />
<meta name="generator" content="WordPress 3.1" />
<link rel='canonical' href='index.html' />
<link rel='shortlink' href='index.html' />
<link rel="stylesheet" href="http://archive.benclinkinbeard.com/wp-content/plugins/ig_syntax_hilite/css/syntax_hilite_css.css" type="text/css" media="all" />
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
</head>
<body class="single single-post postid-5 single-format-standard">


<div id="top">

	<div id="header" class="clearfix">
        <div class="contentwidth">
<!--
            <div id="logo" class="left"><p><a href="http://archive.benclinkinbeard.com"><img src="http://archive.benclinkinbeard.com/wordpress/wp-content/themes/min/images/logo.jpg" alt="benclinkinbeard.com" /></a> </p></div>
-->
            <div id="menu" class="right">
            
            	<ul class="sf-menu">
					<li  ><a href="../../../index.html" title="Home">Home</a></li>
                	<li class="page_item page-item-43"><a href="../../../about/index.html" title="About">About</a></li>
                </ul>
                
            
            </div>
        </div>
    </div><!-- end header -->
    
    
    <div id="promos" class="clearfix">
    	<div class='promo'><div class='contentwidth'><p>Hi, I'm Ben. This is my blog. I write about <a href="../../../category/flex/index.html">Flex</a>, <br /><a href="../../../category/flash/index.html">Flash</a>, software development, and other <a href="../../../category/misc/index.html">miscellany</a>.</p></div></div>    </div><!-- end promos -->
    
    <div id="main" class="clearfix">
    	<div class="contentwidth">

	<div class="column columnLarge">		
		

		<div class="post" id="post-5">
				<h2>DataGrid, labelFunction and namespaces</h2>
		<div class="postmeta">
			<p class="clearfix"><span>07.18.06</span><span>Posted by <a href="../../../author/ben/index.html" title="Posts by Ben">Ben</a> in <a href="../../../category/flash/index.html" title="View all posts in Flash" rel="category tag">Flash</a>, <a href="../../../category/flex/index.html" title="View all posts in Flex" rel="category tag">Flex</a></span><span><span>Comments Off</span></span></p>
		</div>
		<div class="postcontent">
			<p>In a <a href="../dealing-with-default-namespaces-in-flex-2as3/index.html">previous post</a> I talked about my preferred method in Flex 2 for dealing with XML data that contains namespaces. Another task that gets complicated by the presence of 'namespaced XML' is populating a DataGrid with that data. Despite the usefulness of the <code>use namespace</code> directive, I have been unable to populate a <code>DataGrid</code> just by using the <code>dataField</code> attribute, as can be done when your data does not contain namespaces.</p>
<div class="syntax_hilite">
<div id="actionscript-1">
<div class="actionscript">&lt;mx:DataGrid x=<span style="color: #ff0000;">"10"</span> y=<span style="color: #ff0000;">"291"</span>&gt;<br />
&nbsp; &nbsp; &lt;mx:columns&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;mx:DataGridColumn headerText=<span style="color: #ff0000;">"Column 1"</span> dataField=<span style="color: #ff0000;">"col1"</span>/&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;mx:DataGridColumn headerText=<span style="color: #ff0000;">"Column 2"</span> dataField=<span style="color: #ff0000;">"col2"</span>/&gt;<br />
&nbsp; &nbsp; &lt;/mx:columns&gt;<br />
&lt;/mx:DataGrid&gt;</div>
</div>
</div>
<p></p>
<p>The method I employ uses the <code>labelFunction</code> attribute of <code>DataGridColumn</code>, something that is most commonly used to let you specify a function to handle the formatting of data you would like displayed in that column. This approach allows you to use a single function for both special formatting of data and to gain access to data that resides in a namespace. Here is the basic format of my labelFunction:</p>
<div class="syntax_hilite">
<div id="actionscript-2">
<div class="actionscript"><span style="color: #0066CC;">private</span> <span style="color: #000000; font-weight: bold;">function</span> genericLabelFunction<span style="color: #66cc66;">&#40;</span>obj_data:<span style="color: #0066CC;">Object</span>, obj_dataGridColumn:DataGridColumn<span style="color: #66cc66;">&#41;</span>:<span style="color: #0066CC;">String</span><br />
<span style="color: #66cc66;">&#123;</span><br />
&nbsp; &nbsp; use namespace DOCUMENT_METADATA_NAMESPACE;<br />
&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">var</span> q:QName = <span style="color: #000000; font-weight: bold;">new</span> QName<span style="color: #66cc66;">&#40;</span>DOCUMENT_METADATA_NAMESPACE, obj_dataGridColumn.<span style="color: #006600;">dataField</span><span style="color: #66cc66;">&#41;</span>;<br />
&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">var</span> str_data:<span style="color: #0066CC;">String</span> = obj_data<span style="color: #66cc66;">&#91;</span>q<span style="color: #66cc66;">&#93;</span>;</p>
<p>&nbsp; &nbsp; <span style="color: #b1b100;">switch</span><span style="color: #66cc66;">&#40;</span>obj_dataGridColumn.<span style="color: #006600;">dataField</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">case</span> <span style="color: #ff0000;">"Status"</span>:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #66cc66;">&#40;</span>str_data == <span style="color: #ff0000;">"InProgress"</span><span style="color: #66cc66;">&#41;</span> ? <span style="color: #ff0000;">"In Progress"</span> : str_data;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">break</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">case</span> <span style="color: #ff0000;">"PlanDataDate"</span>:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> str_data.<span style="color: #0066CC;">substr</span><span style="color: #66cc66;">&#40;</span><span style="color: #cc66cc;">0</span>, str_data.<span style="color: #0066CC;">indexOf</span><span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">" "</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">break</span>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">default</span>:<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> str_data;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">break</span>;<br />
&nbsp; &nbsp; <span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#125;</span></div>
</div>
</div>
<p></p>
<p>Another item that has proven useful for dealing with namespaced XML is the <code>QName</code> class. Short for 'qualified name', the QName constructor allows you to specify a namespace and a local name, which it uses to address the data you are targeting. Once we establish our QName object, we use it to reference the desired property of the data object (obj_data) that is passed into our labelFunction. Also notice that the local name is determined by the dataField attribute of the DataGridColumn object that was passed into the function. We now have a variable (str_data) that should contain the data from the node in our XML that has the same name as specified by our dataField attribute.</p>
<p>As shown in the first two cases, you can do further formatting to this data if desired. The default case takes care of all non-special cases, for when you would like to display the data as it exists in the XML and were simply using the labelFunction to get around namespace issues. Finally, here is a simple example of a DataGrid that uses our <code>genericLabelFunction</code>.</p>
<div class="syntax_hilite">
<div id="actionscript-3">
<div class="actionscript">&lt;mx:DataGrid dataProvider=<span style="color: #ff0000;">"{ModelLocator.getInstance().clientPlanList}"</span> id=<span style="color: #ff0000;">"planList_dg"</span>&gt;<br />
&nbsp; &nbsp; &lt;mx:columns&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;mx:DataGridColumn headerText=<span style="color: #ff0000;">"Industry"</span> dataField=<span style="color: #ff0000;">"Industry"</span> labelFunction=<span style="color: #ff0000;">"genericLabelFunction"</span>/&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;mx:DataGridColumn headerText=<span style="color: #ff0000;">"Plan Date"</span> dataField=<span style="color: #ff0000;">"PlanDataDate"</span> labelFunction=<span style="color: #ff0000;">"genericLabelFunction"</span>/&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;mx:DataGridColumn headerText=<span style="color: #ff0000;">"Status"</span> dataField=<span style="color: #ff0000;">"Status"</span> labelFunction=<span style="color: #ff0000;">"genericLabelFunction"</span>/&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;mx:DataGridColumn headerText=<span style="color: #ff0000;">"Group Size"</span> dataField=<span style="color: #ff0000;">"PlanSizeGroup"</span> labelFunction=<span style="color: #ff0000;">"genericLabelFunction"</span>/&gt;<br />
&nbsp; &nbsp; &lt;/mx:columns&gt;<br />
&lt;/mx:DataGrid&gt;</div>
</div>
</div>
<p></p>
		</div>
		
		
				
		
		<p>
			<small>
				Both comments and pings are currently closed.
							</small>
		</p>
		</div>
			
		<div class="navigation clearfix">
			<div class="alignleft"><a href="../flash-extension-convert-bitmaps-to-symbols/index.html" rel="prev">Flash Extension: Convert Bitmaps to Symbols</a></div>
			<div class="alignright"><a href="../quickdateformatter-efficient-date-formatting-in-as3/index.html" rel="next">QuickDateFormatter &#8211; efficient date formatting in AS3</a></div>
		</div>

	
<div id="disqus_thread">
					<div id="dsq-content">
			<ul id="dsq-comments">
					<li id="dsq-comment-35">
					<div id="dsq-comment-header-35" class="dsq-comment-header">
						<cite id="dsq-cite-35">
	http://chrisluebcke.com							<span id="dsq-author-user-35">Chris Luebcke</span>
							</cite>
					</div>
					<div id="dsq-comment-body-35" class="dsq-comment-body">
						<div id="dsq-comment-message-35" class="dsq-comment-message"><p>Man, I cannot /tell/ you how great it is to be able to find a solution at 12:30 AM for a problem that would figure rather prominently in what you&#8217;re showing to the executive team at 12:30 PM. Thanks a lot Ben, your contribution is greatly appreciated.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-34">
					<div id="dsq-comment-header-34" class="dsq-comment-header">
						<cite id="dsq-cite-34">
								<span id="dsq-author-user-34">Bruce</span>
							</cite>
					</div>
					<div id="dsq-comment-body-34" class="dsq-comment-body">
						<div id="dsq-comment-message-34" class="dsq-comment-message"><p>This is beautiful!!  I have been looking for this for over a day and now will be able to display data from .Net (with namespaces) within my datagrid.</p>
<p>One question, though.  When I attempt to modify data, Flex ignores the namespace thus creating a new node entry within the bound XML.  The new entry has the same tag name as what I want updated without a namespace.</p>
<p>If I manually update my XML, I will have the correct value in the &#8220;namespaced&#8221; node _and_ in the &#8220;non-namespaced&#8221; node.</p>
<p>Any thoughts?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-33">
					<div id="dsq-comment-header-33" class="dsq-comment-header">
						<cite id="dsq-cite-33">
								<span id="dsq-author-user-33">Ben</span>
							</cite>
					</div>
					<div id="dsq-comment-body-33" class="dsq-comment-body">
						<div id="dsq-comment-message-33" class="dsq-comment-message"><p>Hi Bruce, I&#8217;m glad this helped. I can&#8217;t say I have any ideas on what might be happening with your xml though. In most cases these days I have actually opted to leave resultFormat alone (defaults to object) so that Flex will create objects for me. I tend to only use e4x if I need to access a limited number of deeply nested properties since the .. operator makes it so easy. You can use the ObjectTranslator class from darronschall.com to convert the generic objects Flex will create into class instances.</p>
<p>HTH,<br />
Ben</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-19">
					<div id="dsq-comment-header-19" class="dsq-comment-header">
						<cite id="dsq-cite-19">
	http://ya.ru/							<span id="dsq-author-user-19">alex</span>
							</cite>
					</div>
					<div id="dsq-comment-body-19" class="dsq-comment-body">
						<div id="dsq-comment-message-19" class="dsq-comment-message"><p>hi nice site.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-20">
					<div id="dsq-comment-header-20" class="dsq-comment-header">
						<cite id="dsq-cite-20">
								<span id="dsq-author-user-20">Szoke</span>
							</cite>
					</div>
					<div id="dsq-comment-body-20" class="dsq-comment-body">
						<div id="dsq-comment-message-20" class="dsq-comment-message"><p>Thanks a lot from Hungary (too)!</p>
<p>It was very usefull for me in my thesis!<br />
The site is very good (with easy English, and useful examples)!</p>
<p>Szoke.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-21">
					<div id="dsq-comment-header-21" class="dsq-comment-header">
						<cite id="dsq-cite-21">
								<span id="dsq-author-user-21">Nolan</span>
							</cite>
					</div>
					<div id="dsq-comment-body-21" class="dsq-comment-body">
						<div id="dsq-comment-message-21" class="dsq-comment-message"><p>Would this mess up sorting? I added the function to my project in order for it to work, but now clicking on a column name does not sort properly. Good article, though. It helped me immensely.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-22">
					<div id="dsq-comment-header-22" class="dsq-comment-header">
						<cite id="dsq-cite-22">
								<span id="dsq-author-user-22">Ben</span>
							</cite>
					</div>
					<div id="dsq-comment-body-22" class="dsq-comment-body">
						<div id="dsq-comment-message-22" class="dsq-comment-message"><p>Hi Nolan, glad it helped. What exactly is the problem you&#8217;re seeing? You may need a custom sort function.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-23">
					<div id="dsq-comment-header-23" class="dsq-comment-header">
						<cite id="dsq-cite-23">
								<span id="dsq-author-user-23">Nolan</span>
							</cite>
					</div>
					<div id="dsq-comment-body-23" class="dsq-comment-body">
						<div id="dsq-comment-message-23" class="dsq-comment-message"><p>Yep&#8230; I didn&#8217;t realize at first that I would need a custom sort function if I used a label function. I got it working though. Thanks!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-24">
					<div id="dsq-comment-header-24" class="dsq-comment-header">
						<cite id="dsq-cite-24">
								<span id="dsq-author-user-24">Rick George</span>
							</cite>
					</div>
					<div id="dsq-comment-body-24" class="dsq-comment-body">
						<div id="dsq-comment-message-24" class="dsq-comment-message"><p>Thanks, I searched a LONG time for this.  You helped a lot.  I will post my labelFunction, pretty basic, but works for what I needed, which was simply to remove the freakin&#8217; namespace:</p>
<p>private function genericLabelFunction(dgcXML:Object,dcg:DataGridColumn):String<br />
{<br />
  var currentItem:XML = XML(dgcXML);<br />
  var ns:Namespace = currentItem.namespace();<br />
  var displayValue:String = currentItem.ns::[dcg.dataField];<br />
  return displayValue;<br />
}</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-25">
					<div id="dsq-comment-header-25" class="dsq-comment-header">
						<cite id="dsq-cite-25">
	http://-							<span id="dsq-author-user-25">shri</span>
							</cite>
					</div>
					<div id="dsq-comment-body-25" class="dsq-comment-body">
						<div id="dsq-comment-message-25" class="dsq-comment-message"><p>Actually i am using httpservice and datagrid and i am generating xml from j2ee server that the httpservice will look on and i want some thing like this the xml should contain value and want attibute to be my column name in datagrid could u suggest me some thing</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-28">
					<div id="dsq-comment-header-28" class="dsq-comment-header">
						<cite id="dsq-cite-28">
								<span id="dsq-author-user-28">l</span>
							</cite>
					</div>
					<div id="dsq-comment-body-28" class="dsq-comment-body">
						<div id="dsq-comment-message-28" class="dsq-comment-message"><p>Hi,</p>
<p>Thanks for the post!  Do you have the source file for this example somewhere?</p>
<p>Thanks!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-27">
					<div id="dsq-comment-header-27" class="dsq-comment-header">
						<cite id="dsq-cite-27">
								<span id="dsq-author-user-27">Paul</span>
							</cite>
					</div>
					<div id="dsq-comment-body-27" class="dsq-comment-body">
						<div id="dsq-comment-message-27" class="dsq-comment-message"><p>Ben kicks ass!</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-26">
					<div id="dsq-comment-header-26" class="dsq-comment-header">
						<cite id="dsq-cite-26">
								<span id="dsq-author-user-26">Ben (yes, really)</span>
							</cite>
					</div>
					<div id="dsq-comment-body-26" class="dsq-comment-body">
						<div id="dsq-comment-message-26" class="dsq-comment-message"><p>another (possible) option here is to just remove the namespace from the XML.</p>
<p>the following code will not work out of context, but this is what i did to get my dataGrid/dataField to work right:</p>
<p>var xStr:String = incomingXML.toXMLString();<br />
	var rg:RegExp = /&lt;v3:/g; // my namespace was &#8216;v3&#8242;<br />
	xStr = xStr.replace(rg,&#8221;&lt;&#8221;); take out the v3 but leave the open bracket<br />
	rg = new RegExp(&#8220;&lt;/v3:&#8221;, &#8220;g&#8221;); // dont forget the closing tags<br />
	xStr = xStr.replace(rg,&#8221;&lt;/&#8221;); // again, you have to leave the bracket and close<br />
	incomingXML = XML(xStr); // make back your XML object.</p>
<p>this assumes that you dont need the namespace anywhere else in  your code; i did not.  and this worked like a charm with no hacks.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-30">
					<div id="dsq-comment-header-30" class="dsq-comment-header">
						<cite id="dsq-cite-30">
								<span id="dsq-author-user-30">Philip Wilder</span>
							</cite>
					</div>
					<div id="dsq-comment-body-30" class="dsq-comment-body">
						<div id="dsq-comment-message-30" class="dsq-comment-message"><p>Thanks for the post Ben, forms an excellent support group for us silent Flex datagrid namespace sufferers.</p>
<p>Also, many thanks to Rick George. Your elegant solution works like a charm.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-29">
					<div id="dsq-comment-header-29" class="dsq-comment-header">
						<cite id="dsq-cite-29">
								<span id="dsq-author-user-29">sreedhar</span>
							</cite>
					</div>
					<div id="dsq-comment-body-29" class="dsq-comment-body">
						<div id="dsq-comment-message-29" class="dsq-comment-message"><p>Thanks a Lot.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-31">
					<div id="dsq-comment-header-31" class="dsq-comment-header">
						<cite id="dsq-cite-31">
								<span id="dsq-author-user-31">bharath</span>
							</cite>
					</div>
					<div id="dsq-comment-body-31" class="dsq-comment-body">
						<div id="dsq-comment-message-31" class="dsq-comment-message"><p>Okay the rendering of data in the grid works, but how do we go about constructing the XML with namespaces back &#8211; especially when you edit the cell in the datagrid.</p>
<p>I&#8217;m stuck here. Any thoughts?</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-922">
					<div id="dsq-comment-header-922" class="dsq-comment-header">
						<cite id="dsq-cite-922">
								<span id="dsq-author-user-922">James</span>
							</cite>
					</div>
					<div id="dsq-comment-body-922" class="dsq-comment-body">
						<div id="dsq-comment-message-922" class="dsq-comment-message"><p>Woot!  Namespaces are being a PITA.  Thanks for this.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-923">
					<div id="dsq-comment-header-923" class="dsq-comment-header">
						<cite id="dsq-cite-923">
								<span id="dsq-author-user-923">James</span>
							</cite>
					</div>
					<div id="dsq-comment-body-923" class="dsq-comment-body">
						<div id="dsq-comment-message-923" class="dsq-comment-message"><p>Hi, I&#8217;ve updated the function to allow for multiple namespaces and attributes.  I think it makes sense and it seems to work well, but I have not been at this very long.  </p>
<p>private function genericLabelFunction(obj_data:Object, obj_dataGridColumn:DataGridColumn):String {<br />
				//all the namespaces in order of preference:<br />
			    var qnames:Array = new Array();<br />
			    qnames.push(new QName(atom, element));<br />
			    qnames.push(new QName(gf, element));</p>
<p>				//see if we have an attribute.  If so, split<br />
				var split:Array = String(obj_dataGridColumn.dataField).split(&#8220;.&#8221;);<br />
				var element:String;<br />
				var attribute:String;<br />
				if (split.length &gt; 1) {<br />
					element = split.slice(0, split.length &#8211; 1).join(&#8220;.&#8221;);<br />
					attribute = split[split.length - 1];<br />
				} else {<br />
					element = String(obj_dataGridColumn.dataField);<br />
				}</p>
<p>				//find a namespace with something in it <img src='../../../wordpress/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /><br />
			    var str_data:String;<br />
			    for (var i:int = 0; i &lt; qnames.length; i++) {<br />
				    if (attribute != null) {<br />
					    str_data = obj_data[qnames[i]][attribute];<br />
					} else {<br />
					    str_data = obj_data[qnames[i]];<br />
					}<br />
					if (str_data != null &amp;&amp; str_data != &quot;&quot;) {<br />
						break;<br />
					}<br />
			    }</p>
<p>			    //format various data in different ways<br />
			    switch(obj_dataGridColumn.dataField) {<br />
			        case &quot;Status&quot;:<br />
			            return (str_data == &quot;InProgress&quot;) ? &quot;In Progress&quot; : str_data;<br />
			            break;<br />
			        case &quot;PlanDataDate&quot;:<br />
			            return str_data.substr(0, str_data.indexOf(&quot; &quot;))<br />
			            break;<br />
			        default:<br />
			            return str_data;<br />
			            break;<br />
			    }<br />
			}</p>
<p>hopefully this won&#039;t get too mangled.</p>
</div>
					</div>
				</li>
					<li id="dsq-comment-924">
					<div id="dsq-comment-header-924" class="dsq-comment-header">
						<cite id="dsq-cite-924">
								<span id="dsq-author-user-924">James</span>
							</cite>
					</div>
					<div id="dsq-comment-body-924" class="dsq-comment-body">
						<div id="dsq-comment-message-924" class="dsq-comment-message"><p>Apologies for spamming the place, but I rearranged the code and broke it prior to uploading it, here it is again.  </p>
<p>private function genericLabelFunction(obj_data:Object, obj_dataGridColumn:DataGridColumn):String {<br />
				//see if we have an attribute.  If so, split<br />
				var split:Array = String(obj_dataGridColumn.dataField).split(&#8220;.&#8221;);<br />
				var element:String;<br />
				var attribute:String;<br />
				if (split.length &gt; 1) {<br />
					element = split.slice(0, split.length &#8211; 1).join(&#8220;.&#8221;);<br />
					attribute = split[split.length - 1];<br />
				} else {<br />
					element = String(obj_dataGridColumn.dataField);<br />
				}</p>
<p>				//all the namespaces in order of preference:<br />
				//more can be pushed if needed (change atom and gf)<br />
			    var qnames:Array = new Array();<br />
			    qnames.push(new QName(atom, element));<br />
			    qnames.push(new QName(gf, element));</p>
<p>				//find a namespace with something in it <img src='../../../wordpress/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /><br />
			    var str_data:String;<br />
			    for (var i:int = 0; i &lt; qnames.length; i++) {<br />
				    if (attribute != null) {<br />
					    str_data = obj_data[qnames[i]][attribute];<br />
					} else {<br />
					    str_data = obj_data[qnames[i]];<br />
					}<br />
					if (str_data != null &amp;&amp; str_data != &quot;&quot;) {<br />
						break;<br />
					}<br />
			    }</p>
<p>			    //format various data in different ways<br />
			    switch(obj_dataGridColumn.dataField) {<br />
			        case &quot;Status&quot;:<br />
			            return (str_data == &quot;InProgress&quot;) ? &quot;In Progress&quot; : str_data;<br />
			            break;<br />
			        case &quot;PlanDataDate&quot;:<br />
			            return str_data.substr(0, str_data.indexOf(&quot; &quot;))<br />
			            break;<br />
			        default:<br />
			            return str_data;<br />
			            break;<br />
			    }<br />
			}</p>
</div>
					</div>
				</li>
				</ul>
		</div>
	</div>

<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript">
/* <![CDATA[ */
	var disqus_url = 'http://archive.benclinkinbeard.com/2006/07/datagrid-labelfunction-and-namespaces/ ';
	var disqus_identifier = '5 http://www.returnundefined.com/2006/07/datagrid-labelfunction-and-namespaces/';
	var disqus_container_id = 'disqus_thread';
	var disqus_domain = 'disqus.com';
	var disqus_shortname = 'benclinkinbeard';
	var disqus_title = "DataGrid, labelFunction and namespaces";
		var disqus_config = function () {
	    var config = this; // Access to the config object

	    /* 
	       All currently supported events:
	        * preData — fires just before we request for initial data
	        * preInit - fires after we get initial data but before we load any dependencies
	        * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
	        * afterRender - fires when template is rendered but before we show it
	        * onReady - everything is done
	     */

		config.callbacks.preData.push(function() {
			// clear out the container (its filled for SEO/legacy purposes)
			document.getElementById(disqus_container_id).innerHTML = '';
		});
				config.callbacks.onReady.push(function() {
			// sync comments in the background so we don't block the page
			DISQUS.request.get('?cf_action=sync_comments&post_id=5');
		});
					};
	var facebookXdReceiverPath = 'http://archive.benclinkinbeard.com/wordpress/wp-content/plugins/disqus/xd_receiver.htm';
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
	var DsqLocal = {
		'trackbacks': [
		],
		'trackback_url': "http:\/\/www.benclinkinbeard.com\/2006\/07\/datagrid-labelfunction-and-namespaces\/trackback\/"	};
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dsq = document.createElement('script'); dsq.type = 'text/javascript';
	dsq.async = true;
	dsq.src = 'http://' + disqus_shortname + '.' + disqus_domain + '/embed.js?pname=wordpress&pver=2.61';
	(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>

	
</div><!-- end column large-->

<div class="column columnSmall sidebar last">

	<div class="column columnSmall">
		<div id="text-3" class="widget widget_text">			<div class="textwidget"><a href="http://www.360flex.com"><img src="../../../wordpress/wp-content/uploads/2010/07/360dc.png" /></a></div>
		</div><div id="search-3" class="widget widget_search"><h3 class="widgettitle">Search</h3><form name="searchform" id="searchform" class="clearfix" method="get" action="../../../index.html">
	<input class="text" type="text" name="s" id="s" value=""/>
	<input id="searchsubmit" type="image" src="../../../wordpress/wp-content/themes/min/images/icon_search.jpg" value="" />
</form></div><div id="categories-3" class="widget widget_categories"><h3 class="widgettitle">Categories</h3>		<ul>
	<li class="cat-item cat-item-3"><a href="../../../category/360flex/index.html" title="View all posts filed under 360|Flex">360|Flex</a> (7)
</li>
	<li class="cat-item cat-item-4"><a href="../../../category/as2/index.html" title="View all posts filed under AS2">AS2</a> (2)
</li>
	<li class="cat-item cat-item-5"><a href="../../../category/as3/index.html" title="View all posts filed under AS3">AS3</a> (28)
</li>
	<li class="cat-item cat-item-6"><a href="../../../category/flare/index.html" title="View all posts filed under Flare">Flare</a> (2)
</li>
	<li class="cat-item cat-item-7"><a href="../../../category/flash/index.html" title="View all posts filed under Flash">Flash</a> (16)
</li>
	<li class="cat-item cat-item-8"><a href="../../../category/flashdevelop/index.html" title="View all posts filed under FlashDevelop">FlashDevelop</a> (1)
</li>
	<li class="cat-item cat-item-9"><a href="../../../category/flex/index.html" title="View all posts filed under Flex">Flex</a> (56)
</li>
	<li class="cat-item cat-item-10"><a href="../../../category/flexmdi/index.html" title="View all posts filed under flexmdi">flexmdi</a> (10)
</li>
	<li class="cat-item cat-item-11"><a href="../../../category/jsfl/index.html" title="View all posts filed under JSFL">JSFL</a> (2)
</li>
	<li class="cat-item cat-item-12"><a href="../../../category/misc/index.html" title="View all posts filed under miscellany">miscellany</a> (17)
</li>
	<li class="cat-item cat-item-13"><a href="../../../category/misc/pointless-blather/index.html" title="View all posts filed under pointless blather">pointless blather</a> (11)
</li>
	<li class="cat-item cat-item-14"><a href="../../../category/swiz/index.html" title="View all posts filed under Swiz">Swiz</a> (5)
</li>
	<li class="cat-item cat-item-1"><a href="../../../category/uncategorized/index.html" title="View all posts filed under Uncategorized">Uncategorized</a> (2)
</li>
	<li class="cat-item cat-item-15"><a href="../../../category/universal-mind/index.html" title="View all posts filed under Universal Mind">Universal Mind</a> (1)
</li>
		</ul>
</div><div id="archives-3" class="widget widget_archive"><h3 class="widgettitle">Archives</h3>		<ul>
			<li><a href='../../../2010/10/index.html' title='October 2010'>October 2010</a>&nbsp;(1)</li>
	<li><a href='../../../2010/09/index.html' title='September 2010'>September 2010</a>&nbsp;(1)</li>
	<li><a href='../../../2010/08/index.html' title='August 2010'>August 2010</a>&nbsp;(1)</li>
	<li><a href='../../../2010/03/index.html' title='March 2010'>March 2010</a>&nbsp;(1)</li>
	<li><a href='../../../2010/02/index.html' title='February 2010'>February 2010</a>&nbsp;(2)</li>
	<li><a href='../../../2009/12/index.html' title='December 2009'>December 2009</a>&nbsp;(1)</li>
	<li><a href='../../../2009/11/index.html' title='November 2009'>November 2009</a>&nbsp;(1)</li>
	<li><a href='../../../2009/10/index.html' title='October 2009'>October 2009</a>&nbsp;(1)</li>
	<li><a href='../../../2009/09/index.html' title='September 2009'>September 2009</a>&nbsp;(5)</li>
	<li><a href='../../../2009/08/index.html' title='August 2009'>August 2009</a>&nbsp;(3)</li>
	<li><a href='../../../2009/05/index.html' title='May 2009'>May 2009</a>&nbsp;(2)</li>
	<li><a href='../../../2009/03/index.html' title='March 2009'>March 2009</a>&nbsp;(1)</li>
	<li><a href='../../../2009/02/index.html' title='February 2009'>February 2009</a>&nbsp;(1)</li>
	<li><a href='../../../2009/01/index.html' title='January 2009'>January 2009</a>&nbsp;(3)</li>
	<li><a href='../../../2008/09/index.html' title='September 2008'>September 2008</a>&nbsp;(1)</li>
	<li><a href='../../../2008/08/index.html' title='August 2008'>August 2008</a>&nbsp;(1)</li>
	<li><a href='../../../2008/07/index.html' title='July 2008'>July 2008</a>&nbsp;(3)</li>
	<li><a href='../../../2008/05/index.html' title='May 2008'>May 2008</a>&nbsp;(6)</li>
	<li><a href='../../../2008/03/index.html' title='March 2008'>March 2008</a>&nbsp;(4)</li>
	<li><a href='../../../2008/02/index.html' title='February 2008'>February 2008</a>&nbsp;(5)</li>
	<li><a href='../../../2008/01/index.html' title='January 2008'>January 2008</a>&nbsp;(2)</li>
	<li><a href='../../../2007/12/index.html' title='December 2007'>December 2007</a>&nbsp;(1)</li>
	<li><a href='../../../2007/11/index.html' title='November 2007'>November 2007</a>&nbsp;(2)</li>
	<li><a href='../../../2007/10/index.html' title='October 2007'>October 2007</a>&nbsp;(1)</li>
	<li><a href='../../../2007/09/index.html' title='September 2007'>September 2007</a>&nbsp;(4)</li>
	<li><a href='../../../2007/07/index.html' title='July 2007'>July 2007</a>&nbsp;(1)</li>
	<li><a href='../../../2007/06/index.html' title='June 2007'>June 2007</a>&nbsp;(3)</li>
	<li><a href='../../../2007/01/index.html' title='January 2007'>January 2007</a>&nbsp;(1)</li>
	<li><a href='../../11/index.html' title='November 2006'>November 2006</a>&nbsp;(1)</li>
	<li><a href='../../10/index.html' title='October 2006'>October 2006</a>&nbsp;(2)</li>
	<li><a href='../../08/index.html' title='August 2006'>August 2006</a>&nbsp;(2)</li>
	<li><a href='../index.html' title='July 2006'>July 2006</a>&nbsp;(5)</li>
		</ul>
</div>	</div>
</div>


        
        </div>
    </div><!-- end main -->
    

	<div id="footer-top" class="clearfix">
    	<div class="contentwidth clearfix">
        
        <div class="column columnSmall">
        			<div id="recent-posts-3" class="widget widget_recent_entries">		<h3>Recent Posts</h3>		<ul>
				<li><a href="../../../2010/10/fixing-drawcircle-distortion-to-create-smooth-circles/index.html" title="Fixing drawCircle() distortion to create smooth circles">Fixing drawCircle() distortion to create smooth circles</a></li>
				<li><a href="../../../2010/09/enterprise-actionscript-writing-clean-code-fast-with-swiz-1-0-my-slides-from-360flex-dc-2/index.html" title="Enterprise ActionScript: Writing Clean Code Fast with Swiz 1.0 &#8211; My slides from 360|Flex DC">Enterprise ActionScript: Writing Clean Code Fast with Swiz 1.0 &#8211; My slides from 360|Flex DC</a></li>
				<li><a href="../../../2010/08/you-need-to-be-at-360flex-dc/index.html" title="You need to be at 360|Flex DC.">You need to be at 360|Flex DC.</a></li>
				<li><a href="../../../2010/03/injecting-into-custom-namespaces-yea-swiz-can-do-that-too/index.html" title="Injecting into custom namespaces? Yea, Swiz can do that too.">Injecting into custom namespaces? Yea, Swiz can do that too.</a></li>
				<li><a href="../../../2010/02/what-windshield-wipers-taught-me-about-user-experience/index.html" title="What Windshield Wipers Taught Me About User Experience">What Windshield Wipers Taught Me About User Experience</a></li>
				</ul>
		</div>        </div>
        
        <div class="column columnSmall">
        	<div id="recent-comments-3" class="widget widget_recent_comments"><h3>Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><a href='http://www.facebook.com/ephraimt' rel='external nofollow' class='url'>Ephraim Tabackman</a> on <a href="../../../2009/03/smooth-scrolling-flex-list/comment-page-1/index.html#comment-1275">Smooth Scrolling Flex List</a></li><li class="recentcomments"><a href='http://www.facebook.com/ephraimt' rel='external nofollow' class='url'>Ephraim Tabackman</a> on <a href="../../../2009/03/smooth-scrolling-flex-list/comment-page-1/index.html#comment-1274">Smooth Scrolling Flex List</a></li><li class="recentcomments"><a href='http://www.facebook.com/ephraimt' rel='external nofollow' class='url'>Ephraim Tabackman</a> on <a href="../../../2009/03/smooth-scrolling-flex-list/comment-page-1/index.html#comment-1273">Smooth Scrolling Flex List</a></li><li class="recentcomments">faha on <a href="../../../2007/11/efficient-reusable-and-centered-checkbox-renderers-for-datagrids/comment-page-1/index.html#comment-1272">Efficient, reusable (and centered) CheckBox renderers for DataGrids</a></li><li class="recentcomments">Prakashm88 on <a href="../../../2007/11/efficient-reusable-and-centered-checkbox-renderers-for-datagrids/comment-page-1/index.html#comment-1271">Efficient, reusable (and centered) CheckBox renderers for DataGrids</a></li></ul></div>        </div>
        
		<!-- Disable contact form in the admin area to use widgets instead. -->
					<!-- contact form -->
        	<div class="widget">
            	<h3>Contact Ben</h3>
                
                
                                
                <form action="index.html" method="post" class="standardForm" onsubmit="javascript:return validate(this)">
                    <div class="column columnSmall">
                        <textarea class="textarea" rows="3" cols="3" name="cfmessage"></textarea>
                    </div>
                    <div class="column columnSmall last">
                        <input type="text" name="cfname" class="textbox" value="Name" onclick="this.value=''" />
                        <input type="text" name="cfemail" class="textbox" value="you@email.com" onclick="this.value=''" />
                        <input type="text" value="" name="email" class="hidden" />
						<input type="hidden" value="1" name="contact_form_attempt" class="hidden" />
                        <input type="submit" class="submit" value="Send Message" /><span id="message" class="hidden"></span>
                    </div>
                </form>
            </div>
			<!-- contact form end -->
				
	    
		
		
		
        
          
        
        
        </div>
    </div><!-- end footer-top -->
    
    
    
    <div id="footer-bottom" class="clearfix">
		<div class="contentwidth"><p class="right"><small><a href="index.html#top">Back to the Top</a></small></p>
			<p><small>All source code shared on this site is available under the <a href="http://en.wikipedia.org/wiki/MIT_License">MIT license</a> unless otherwise noted.</small></p>    	</div>
    </div><!-- end footer-bottom -->


</div><!-- end outer -->

<script type="text/javascript" src="../../../wordpress/wp-content/themes/min/js/jquery.js"></script>
<script type="text/javascript" src="../../../wordpress/wp-content/themes/min/js/hoverIntent.js"></script>
<script type="text/javascript" src="../../../wordpress/wp-content/themes/min/js/superfish.js"></script>
<script type="text/javascript" src="../../../wordpress/wp-content/themes/min/js/supersubs.js"></script>
<script type="text/javascript" src="../../../wordpress/wp-content/themes/min/js/general.js"></script>

<!-- ***** GOOGLE TRANSLATE ***** -->
<div id="google_translate_element"></div><script>
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en'
  }, 'google_translate_element');
}
</script><script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<!-- ***** GOOGLE ANALYTICS ***** -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-494911-3");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>

<!-- Dynamic Page Served (once) in 0.848 seconds -->
<!-- Cached page served by WP-Cache -->
